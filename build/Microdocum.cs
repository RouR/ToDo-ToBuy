using System;
using System.Globalization;
using System.IO;
using Nuke.Common;

//https://github.com/nuke-build/nuke
partial class Build : NukeBuild
{
    Target Microdocum => _ => _
        .Executes(() =>
        {
            Console.WriteLine("Run custom target - Microdocum!");

            var path = Path.Combine(SolutionDirectory.ToString(), "_autogenerated.txt");
            using (var file = new StreamWriter(path, false))
            {
                file.WriteLine("autogenerated at " + DateTime.UtcNow.ToString("f", CultureInfo.InvariantCulture));
                //file.WriteLine($"git commit {GitVersion.BranchName} {GitVersion.Sha} at {GitVersion.CommitDate}");
            }
        });
}